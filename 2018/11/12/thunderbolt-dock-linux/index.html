<!doctype html>
<html>
<head>
  <title>Thunderbolt dock and Linux &mdash; 西行漫记 </title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Sculpin (http://sculpin.io)" />
  <link href="https://fonts.googleapis.com/css?family=Merriweather:400,400i,700|Montserrat:400,700" rel="stylesheet"> 
  <link href="/css/style.css" rel="stylesheet" type="text/css" />

  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css">

  <link rel="canonical" href="http://xxmj.life/2018/11/12/thunderbolt-dock-linux/" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@naxoc" />
<meta name="twitter:title" content="Thunderbolt dock and Linux" />
  <meta name="twitter:description" content="Getting Kubuntu to recognize a Thunderbolt dock" />
    <script type="application/ld+json">
{
      "@context": "http://schema.org",
      "@id": "http://xxmj.life/2018/11/12/thunderbolt-dock-linux/",
      "@type": "BlogPosting",
      "Name": "Thunderbolt dock and Linux",
      "headline": "Thunderbolt dock and Linux",
      "datePublished": "2018-11-12T18:20:00+00:00",
      "dateModified": "2018-11-12T18:20:00+00:00",
      "Description": "Getting Kubuntu to recognize a Thunderbolt dock",
      "mainEntityOfPage": "True",
      "Url": "http://xxmj.life/2018/11/12/thunderbolt-dock-linux/",
      "Keywords": "linux, kubuntu, dell, thunderbolt, kde",
      "image": {
        "@type": "ImageObject",
        "url": "http://naxoc.net/img/camilla.jpg",
        "height": "300",
        "width": "309"
      },
      "Author": {
        "@type": "Person",
        "name": "Camilla Krag Jensen"
      },
      "publisher": {
        "@type": "Organization",
        "name": "naxoc.net",
        "url": "http://naxoc.net",
        "logo": {
          "@type": "ImageObject",
          "url": "http://naxoc.net/img/camilla.jpg",
          "height": "300",
          "width": "309"
        }
      }
    }
</script>

    <script type="text/javascript" async defer>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-15300952-1', 'auto');ga('send', 'pageview');</script>
  
</head>
<body>

  <aside class="sidebar">
    <header>
      <h1>
        <a href="/">西行漫记</a>
      </h1>
      <p>西行却过流沙日，枕上寥寥心独知</p>
    </header>

    <nav>
      <ul class="menu inline-list">
        <li><a class="button-link" href="/blog">存档</a></li>
        <li><a class="button-link" href="/blog/tags">标签</a></li>
        <li><a class="button-link" href="/about">关于</a></li>
      </ul>
    </nav>
  </aside>
  <main role="main">
    <section class="content-main">
        <article class="hentry post">
    <header>
      <h1 class="entry-title">Thunderbolt dock and Linux</h1>

      <p class="meta">
        By
        <span class="author vcard">
          <a class="url fn n" href="http://xxmj.life">
            <span class="given-name">GavinKou</span>
          </a>
          <span class="nickname">GavinKou</span>
        </span>
      |
        <time class="published" datetime="2018-11-12T18:20:00+00:00">
          <a href="http://xxmj.life/2018/11/12/thunderbolt-dock-linux/" rel="bookmark">
            <span class='year'>2020</span>-<span class='month'>06</span>-<span class='day'>06</span>
          </a>
        </time>
        <time class="updated" datetime="2018-11-12T18:20:00+00:00"></time>
      </p>

              <p class="tags">
                      <a class="tag-color tag-color-1" href="http://xxmj.life/blog/tags/linux" rel="tag">linux</a>                       <a class="tag-color tag-color-2" href="http://xxmj.life/blog/tags/kubuntu" rel="tag">kubuntu</a>                       <a class="tag-color tag-color-3" href="http://xxmj.life/blog/tags/dell" rel="tag">dell</a>                       <a class="tag-color tag-color-4" href="http://xxmj.life/blog/tags/thunderbolt" rel="tag">thunderbolt</a>                       <a class="tag-color tag-color-5" href="http://xxmj.life/blog/tags/kde" rel="tag">kde</a>                  </p>
          </header>

    <div class="entry-content content">
      <p>At work I have a <a href="https://www.dell.com/en-us/shop/dell-business-thunderbolt-dock-tb16-with-240w-adapter/apd/452-bcnu/pc-accessories">Dell TB16 dock</a> for my Dell XPS 13. It's pretty sweet. I plug in just one USB-C and everything works.
 The first time I plugged it in, Ubuntu popped up a window that wanted me to approve the access to the computer from the dock. A nice security feature when you think about it.</p>

<p>When I did a reinstall and installed Kubuntu instead of Ubuntu, I did not get the prompt to approve access. Apparently Kubuntu does not have packages for managing Thunderbolt by default, and no graphical interface for it.
  Luckily I knew that the authorization was necessary, because I could have easily just freaked out and believed that the dock would not work with Kubuntu</p>

<p>Here are the easy steps I did to make it work on Kubuntu:</p>

<ul>
<li>Install <a href="https://github.com/gicmo/bolt">bolt</a>:</li>
</ul>

<pre><code>sudo apt install bolt
</code></pre>

<ul>
<li>Restart the machine (not sure if it is necessary, but can't hurt).</li>
<li>List the devices with:</li>
</ul>

<pre><code>boltctl
</code></pre>

<p>The output will look something like this:</p>

<pre><code> ● Dell Thunderbolt Cable
   ├─ type:          peripheral
   ├─ name:          Dell Thunderbolt Cable
   ├─ vendor:        Dell
   ├─ uuid:          xxxxxxxx-7a0f-d400-ffff-ffffffffffff
   ├─ status:        authorized
   │  ├─ authflags:  none
   │  ├─ authorized: Wed 14 Nov 2018 03:01:12 PM UTC
   │  └─ connected:  Wed 14 Nov 2018 03:01:09 PM UTC
   └─ stored:        yes
      ├─ when:       Wed 31 Oct 2018 04:11:14 PM UTC
      ├─ policy:     auto
      └─ key:        no

 ● Dell Thunderbolt Dock
   ├─ type:          peripheral
   ├─ name:          Dell Thunderbolt Dock
   ├─ vendor:        Dell
   ├─ uuid:          xxxxxxxx-3b05-8680-ffff-ffffffffffff
   ├─ status:        authorized
   │  ├─ authflags:  none
   │  ├─ authorized: Wed 14 Nov 2018 03:01:18 PM UTC
   │  └─ connected:  Wed 14 Nov 2018 03:01:15 PM UTC
   └─ stored:        yes
      ├─ when:       Wed 31 Oct 2018 04:11:45 PM UTC
      ├─ policy:     auto
      └─ key:        no


</code></pre>

<ul>
<li>Copy the uuid and authorize the device with: 
<code>boltctl enroll [uuid]</code></li>
</ul>

<p>If you only want to give permission for the current session, use <code>boltctl authorize</code> instead of enroll.</p>

<h2 id="wired-internet-can-be-flaky">Wired internet can be flaky</h2>

<p>On Kubuntu I have a couple of times every day where the machine looses the ethernet connection through the dock. I have no idea what does it - it never happened on Ubuntu. If you have any idea what that is please leave a comment.</p>

    </div>

          <nav class="article">
        <div class="previous-next">
                      <div class="next">
              <a href="/2020/06/04/《中国古医籍整理丛书》/" title="古中医读本丛书"><span class="title">古中医读本丛书</span><span class="arrow arrow-east"></span></a>
            </div>
                                <div class="previous">
              <a href="/2018/10/17/phpstorm-twig-namespaces/" title="Navigate in Twig namespaces in PhpStorm"><span class="arrow arrow-west"></span><span class="title">Navigate in Twig namespaces in PhpStorm</span></a>
            </div>
                    </div>
      </nav>
    
    <div id="disqus_thread"></div>

  </article>
    </section>
  </main>

  <footer>
  <div class="footer-links">
      <ul class="inline-list">
        <li><a class="button-link" href="http://xxmj.life/atom.xml">Feed</a></li>
        <li><a class="button-link" href="https://twitter.com/naxoc" rel="me">Twitter</a></li>
        <li><a class="button-link" href="https://github.com/naxoc" rel="me">GitHub</a></li>
      </ul>
    <div class="powered-by">
      <p>Powered by <a href="https://sculpin.io">Sculpin</a></p>
    </div>
    <div class="google-plus">
      
    </div>
  </div>
  </footer>


    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
